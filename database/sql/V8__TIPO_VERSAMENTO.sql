create table NODO4_CFG.TIPI_VERSAMENTO
(
    OBJ_ID          NUMBER generated by default on null as identity
        constraint PK_TIPI_VERSAMENTO
            primary key,
    DESCRIZIONE     VARCHAR2(35 char),
    TIPO_VERSAMENTO VARCHAR2(15 char) not null
        constraint UQ_TIPO_VERSAMENTO
            unique
);


create table NODO4_CFG.CANALE_TIPO_VERSAMENTO
(
    OBJ_ID             NUMBER generated by default on null as identity
        constraint PK_CANALE_TIPO_VERSAMENTOE
            primary key,
    FK_CANALE          NUMBER not null
        constraint FK_CANALE_TIPO_VERSAMENTO_CANALI
            references NODO4_CFG.CANALI,
    FK_TIPO_VERSAMENTO NUMBER not null
        constraint FK_CANALE_TIPO_VERSAMENTO_TIPO_VERSAMENTO
            references NODO4_CFG.TIPI_VERSAMENTO
);

create table NODO4_CFG.PSP_CANALE_TIPO_VERSAMENTO
(
    OBJ_ID                    NUMBER generated by default on null as identity
        constraint PK_PSP_CANALE_TIPO_VERSAMENTO
            primary key,
    FK_CANALE_TIPO_VERSAMENTO NUMBER not null
        constraint FK_CANALE_TIPO_VERSAMENTO
            references NODO4_CFG.CANALE_TIPO_VERSAMENTO,
    FK_PSP                    NUMBER not null
        constraint FK_PSP_CANALE_TIPO_VERSAMENTO_PSP
            references NODO4_CFG.PSP
);

INSERT INTO NODO4_CFG.TIPI_VERSAMENTO (OBJ_ID, DESCRIZIONE, TIPO_VERSAMENTO) VALUES (11636, 'PayPal', 'PPAL');
INSERT INTO NODO4_CFG.TIPI_VERSAMENTO (OBJ_ID, DESCRIZIONE, TIPO_VERSAMENTO) VALUES (1, 'Bollettino postale', 'BP');
INSERT INTO NODO4_CFG.TIPI_VERSAMENTO (OBJ_ID, DESCRIZIONE, TIPO_VERSAMENTO) VALUES (2, 'Bonifico bancario tesoreria', 'BBT');
INSERT INTO NODO4_CFG.TIPI_VERSAMENTO (OBJ_ID, DESCRIZIONE, TIPO_VERSAMENTO) VALUES (3, 'Addebito diretto', 'AD');
INSERT INTO NODO4_CFG.TIPI_VERSAMENTO (OBJ_ID, DESCRIZIONE, TIPO_VERSAMENTO) VALUES (4, 'Carta di pagamento', 'CP');
INSERT INTO NODO4_CFG.TIPI_VERSAMENTO (OBJ_ID, DESCRIZIONE, TIPO_VERSAMENTO) VALUES (5, 'Pagamento attivato presso PSP', 'PO');
INSERT INTO NODO4_CFG.TIPI_VERSAMENTO (OBJ_ID, DESCRIZIONE, TIPO_VERSAMENTO) VALUES (6, 'Online Banking Electronic Payment', 'OBEP');
INSERT INTO NODO4_CFG.TIPI_VERSAMENTO (OBJ_ID, DESCRIZIONE, TIPO_VERSAMENTO) VALUES (7, 'Jiffy', 'JIF');
INSERT INTO NODO4_CFG.TIPI_VERSAMENTO (OBJ_ID, DESCRIZIONE, TIPO_VERSAMENTO) VALUES (8, 'MyBank', 'MYBK');

INSERT INTO NODO4_CFG.CANALE_TIPO_VERSAMENTO (OBJ_ID, FK_CANALE, FK_TIPO_VERSAMENTO) VALUES (1, 1, 1);
INSERT INTO NODO4_CFG.PSP_CANALE_TIPO_VERSAMENTO (OBJ_ID, FK_CANALE_TIPO_VERSAMENTO, FK_PSP) VALUES (1, 1, 1);

commit;
